# 刚开始看react

## 对不理解的名词的注解

单页Web应用
（single page web application，SPA）
就是只有一张Web页面的应用。单页应用程序 (SPA) 是加载单个HTML 页面并在用户与应用程序交互时动态更新该页面的Web应用程序。[1]  浏览器一开始会加载必需的HTML、CSS和JavaScript，所有的操作都在这张页面上完成，都由JavaScript来控制。

·速度：更好的用户体验，让用户在web app感受native app的速度和流畅，
·MVC：经典MVC开发模式，前后端各负其责。
·ajax：重前端，业务逻辑全部在本地操作，数据都需要通过AJAX同步、提交。
·路由：在URL中采用#号来作为当前视图的地址,改变#号后的参数，页面并不会重载。
·用到的技术其实还是HTML+CSS+JavaScript

## 单页web应用开发流程

用循环的视角审视Web应用开发
框定一个一致的SPA图形用户界面（GUI）和模型
将SPA的原则带回服务器端
聚集于对合适的应用进行早期SPA开发

## 搜罗到的其他点

React中的组件可以通过两种方式定义：ES6类组件和功能无状态组件。后者只是将输入和返回元素作为输出的函数。它们仍然是组件。它们是没有任何样板的组件，因为您只需定义常规JavaScript函数。我不能说Angular使定义组件变得容易。


你还可能需要设置 Babel40 来让你的项目支持 JSX(React 的专用语法)和
JavaScript ES6。Babel 把你的 JavaScript ES6 和 JSX 代码转译(transpile)成浏览器可以支持
的版本,毕竟并不是所有的浏览器都支持这些高级语法。这一步设置包含一堆的配置和工
具,对于一个新手来说可能会感觉到不小的压力。


## 以下都是瞎敲出来的小示例

    function Button ({onclick,children}){
        back(
            <button onClick={onClick} type="button">
                {children}
            </button>
        )
    }


    <input
        value={this.state.value}
        onChange={(event) => this.setState({value:event.tatget.value})}
        type="text"
    />
单向数据流使React状态管理可预测和可维护。

这是src/App.js的简化下来的版本

    import React,{Component} from "react";
    import './App.css';

    class App extends Component {
        render(){
            return (
                <div className="App">
                    <h2>Welcom to the Road to learn React</h2>
                </div>

            );
        }
    }

    export default App;

这其中,render和我自己生成的App.js文件中的略有不同.我的文件里没有render.我的是下面这个样子的.

    import React from 'react';
    import logo from './logo.svg';
    import './App.css';

    function App() {
    return (
        <div className="App">
        <header className="App-header">
            <img src={logo} className="App-logo" alt="logo" />
            <p>
            Edit <code>src/App.js</code> and save to reload.
            </p>
            <a
            className="App-link"
            href="https://reactjs.org"
            target="_blank"
            rel="noopener noreferrer"
            >
            Learn React
            </a>
        </header>
        </div>
    );
    }

    export default App;

不知道是什么情况,不知道是不是版本的影响

## 类的声明

class App extends Component
这个类的声明为什么要加上extends Component
??
而后在声明class Developer的时候,没有加上extends Component
是否都对
补充:
extends Component 的意思是继承自Component类  该类是es6的基础类,具备所有方法和属性.继承后,改写该类的render()方法.

## 构造函数

构造函数应该长的这个样子

    class ExplainBindingComponent extends Component{
        constructor(){
            super();

            this.onClickMe=this.onClickMe.bind(this);//绑定对象
        }
        onClickMe(){
            console.log(this);//定义业务逻辑
        }
        render(){//渲染
            return(
                <button onClick={this.onClickMe} type='button'>Click Me </button>
            );
        }
    }

总的规则是,绑定在一块儿,定义方法在一块儿,渲染在领一块儿.
但是绑定的过程也可写到render()函数中,

        class ExplainBindingsComponent extends Component {
        onClickMe() {
        console.log(this);
        }
        render() {
        return (
        <button
        onClick={this.onClickMe.bind(this)}
        type="button"
        >
        Click Me
        </button>
        );
        }
        }

但是每次 render() 方法执行时绑定类方法,性能会降低.
也有将定义方法(定义业务逻辑的方法)写到构造函数那一块儿去,也不提倡.

类方法可以通过 ES6 的箭头函数做到自动地绑定.

    class ExplainBindingsComponent extends Component{
        onClickMe=()=>{
            console.log(this);
        }
        render(){
            return(
                <button onClick={this.onClickMe} type='button' >Click Me </button>
            );
        }
    }

## 浅合并

关于一个在 React 组件中更新状态的简要说明,在使用 this.setState() 更新 searchTerm
时 应 该 把 这 个 列 表 也 传 递 进 去 来 保 留 它 才 是 公 平 的, 但 事 实 并 非 如 此,React 的
this.setState() 是一个浅合并,在更新一个唯一的属性时,他会保留状态对象中的其
他属性,因此即使你已经在列表状态中排除了一个项,在更新 searchTerm 属性时也会保持
不变。

这个问题以后可能会被用到.
暂时的理解是对setState()方法调用时,每次都是更新state属性里的一项内容,其他内容不变.

## 关于查询表单

实现一个搜索框,根据输入框的内容对标题进行过滤的目的.
没有实现成功,做出的东西没有用,能够取到搜索框内的值,也能输出它,但是不能在页面进行展示.不能动态的告知用户过滤后的东西.应该是在输出到span的时候出了问题.  

## 解构赋值

ES6中的解构方式
const { firstname, lastname } = user;
同样的,数组也同样能进行解构赋值

const users = ['Robin', 'Andrew', 'Dan'];
const [
        userOne,
        userTwo,
        userThree
    ] = users;

## 踩坑记录

create-react-app hackernews

报错

Creating a new React app in /home/liu/桌面/react/test_react/hackernews.

Installing packages. This might take a couple of minutes.
Installing react, react-dom, and react-scripts...

npm ERR! code EACCES
npm ERR! syscall mkdir
npm ERR! path /home/liu/.npm/_cacache/index-v5/65/48
npm ERR! errno -13
npm ERR! 
npm ERR! Your cache folder contains root-owned files, due to a bug in
npm ERR! previous versions of npm which has since been addressed.
npm ERR! 
npm ERR! To permanently fix this problem, please run:
npm ERR!   sudo chown -R 1000:1000 "/home/liu/.npm"

npm ERR! A complete log of this run can be found in:
npm ERR!     /home/liu/.npm/_logs/2019-09-12T01_57_06_216Z-debug.log

Aborting installation.
  npm install --save --save-exact --loglevel error react react-dom react-scripts has failed.

Deleting generated file... package.json
Deleting hackernews/ from /home/liu/桌面/react/test_react
Done.

然后按照它的提示运行
sudo chown -R 1000:1000 "/home/liu/.npm"
再试,成功.

安装npm 和 create-react-app 出错的处理
装了nvm包管理工具,用nvm安装node,直接搞定.
你可以通过在 JSX 代码的某
些地方通过 <App /> 来实例化它。


我在这个./src/App.js中修改了内容,直接运行npm start 报错.
注释掉,留它原来的代码,报错.

关于箭头函数的表达式的格式
// allowed
item => { ... }
// allowed
(item) => { ... }
// not allowed
item, key => { ... }
// allowed
(item, key) => { ... }

## 这本书最大的缺点

说的话不够直白,都是什么玩应儿,"输入框的单项数据流循环是自包含的",tmd什么叫自包含,"组件内部状态是输入框的唯一数据来源",读起来太tmd费劲了.

另一个,在各小部件更新后,没有一个整体的代码展示,导致自己敲出来的可能达不到目的.

